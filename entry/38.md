#【生活の知恵】Event ではなく Signal 使うと幸せになれることもある【車輪の再発明】

なんだか書きかけの記事があったので晒しておきます。

表題どおり、Event ではなく Signal を使うと幸せになれることもあるんじゃないかという話です。

現在のブラウザベースのフロントエンド開発においては  
Event 駆動が中心だと思いますが状況に応じては Signal のほうが設計や実装がシンプルになることもあります。

## meta

- slug: 38
- date: 2014-01-17 15:09:45
- active: true

## content

AS 野郎な皆さんは as3-signals というライブラリが存在するので以下を使うといいと思います。

> [robertpenner / as3-signals](https://github.com/robertpenner/as3-signals)

JS 用には、ごくごくシンプルな実装を随分昔に書いたので貼り付けておきますね。

<script src="https://gist.github.com/glassesfactory/eceb9a152df8da8ac2ae.js"></script>

使い方は

```
    Signal.subscribe "unko", unkoKitaCallback
```

で受信待受。

```
    Signal.notify "unko"
```

で Signal を送信することが出来ます。

使いどころなんですが、主にクラス同士の結合度合いが弱かったり  
そもそも関連性を極力持たせたくない場合に使うと良いのではないでしょうか。

イベントだと一筆書きのイベントバブリングのため、どうしても親子関係を構築しなければならないですが Signal  だと最後まで他人のままやり過ごすことが出来ます。

具体的にはカスタム UI のセレクトボックスを作っていて、  
セレクトボックスAが開いた状態でセレクトボックスBがクリックされたら閉じたいとかそういう時に役立ちます。  
後はモーダル開いたらアニメーション止めたいとか。

他の言語にはよくありますし、多分探せば JS でももっとちゃんとした実装をしているライブラリがきっと転がっているはずですが  
ちょっと使いたいなーぐらいの時に気軽に使えるのではないでしょうか。  
それでは。
